<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Be My Valentine ‚ù§Ô∏è</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Pacifico&family=Quicksand:wght@400;500&display=swap" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
    }
    
    body {
      margin: 0;
      padding: 0;
      text-align: center;
      font-family: 'Quicksand', sans-serif;
      background: linear-gradient(135deg, #ffe6f0 0%, #ffd6e0 50%, #ffc9d6 100%);
      position: relative;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      min-height: 500px;
    }
    
    /* Animated background elements */
    body::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: 
        radial-gradient(circle at 20% 30%, rgba(255, 182, 193, 0.3) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(255, 105, 180, 0.2) 0%, transparent 50%),
        radial-gradient(circle at 40% 80%, rgba(255, 192, 203, 0.25) 0%, transparent 50%);
      animation: floatBackground 20s ease-in-out infinite;
      z-index: 0;
    }
    
    @keyframes floatBackground {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      33% { transform: translate(5%, 5%) rotate(2deg); }
      66% { transform: translate(-5%, 3%) rotate(-2deg); }
    }
    
    /* Noise texture overlay */
    body::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
      pointer-events: none;
      z-index: 1;
    }
    
    .container {
      z-index: 2;
      padding: 40px 20px;
      width: 90%;
      max-width: 450px;
      background: rgba(255, 255, 255, 0.75);
      backdrop-filter: blur(10px);
      border-radius: 30px;
      box-shadow: 
        0 20px 60px rgba(214, 51, 132, 0.2),
        0 0 0 1px rgba(255, 255, 255, 0.5) inset;
      animation: containerFadeIn 1s ease-out;
    }
    
    @keyframes containerFadeIn {
      from { 
        opacity: 0; 
        transform: scale(0.9) translateY(20px);
      }
      to { 
        opacity: 1; 
        transform: scale(1) translateY(0);
      }
    }
    
    h1 {
      font-family: 'Playfair Display', serif;
      font-size: 2.5rem;
      color: #c9184a;
      margin-bottom: 40px;
      text-shadow: 2px 2px 4px rgba(214, 51, 132, 0.1);
      animation: headingFloat 3s ease-in-out infinite;
    }
    
    @keyframes headingFloat {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-5px); }
    }
    
    .button-container {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 15px;
      flex-wrap: wrap;
      min-height: 100px;
      position: relative;
    }
    
    button {
      padding: 18px 30px;
      font-family: 'Quicksand', sans-serif;
      font-weight: 500;
      font-size: 1.3rem;
      border: none;
      border-radius: 16px;
      cursor: pointer;
      transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      width: 140px;
      position: relative;
      overflow: hidden;
    }
    
    button::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.3);
      transform: translate(-50%, -50%);
      transition: width 0.6s, height 0.6s;
    }
    
    button:hover::before {
      width: 300px;
      height: 300px;
    }
    
    button:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.25);
    }
    
    button:active {
      transform: translateY(-1px);
    }
    
    button:focus {
      outline: 3px solid #ff4d6d;
      outline-offset: 3px;
    }
    
    #yesBtn {
      background: linear-gradient(135deg, #ff4d6d 0%, #ff1744 100%);
      color: white;
      transform-origin: center;
      box-shadow: 0 4px 15px rgba(255, 77, 109, 0.4);
      animation: pulse 2s ease-in-out infinite;
    }
    
    @keyframes pulse {
      0%, 100% { box-shadow: 0 4px 15px rgba(255, 77, 109, 0.4); }
      50% { box-shadow: 0 4px 25px rgba(255, 77, 109, 0.6), 0 0 20px rgba(255, 77, 109, 0.3); }
    }
    
    #noBtn {
      background: linear-gradient(135deg, #95a5a6 0%, #6c757d 100%);
      color: white;
      transition: all 0.3s ease;
    }
    
    #noBtn.shake {
      animation: shake 0.5s;
    }
    
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
      20%, 40%, 60%, 80% { transform: translateX(5px); }
    }
    
    #noBtn.dodging {
      position: absolute;
      transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }
    
    #popup {
      display: none;
      font-family: 'Pacifico', cursive;
      font-size: 1.6rem;
      color: #c9184a;
      margin-top: 30px;
      animation: popupAppear 1s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
      line-height: 1.6;
    }
    
    @keyframes popupAppear {
      from { 
        opacity: 0; 
        transform: scale(0.5) rotate(-5deg);
      }
      to { 
        opacity: 1; 
        transform: scale(1) rotate(0deg);
      }
    }
    
    /* Confetti */
    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      background: #ff4d6d;
      position: fixed;
      animation: confettiFall linear forwards;
      z-index: 10;
      pointer-events: none;
    }
    
    @keyframes confettiFall {
      to {
        transform: translateY(110vh) rotate(720deg);
        opacity: 0;
      }
    }
    
    /* Floating Hearts */
    .heart {
      position: fixed;
      bottom: -10px;
      font-size: 20px;
      animation: floatUp linear forwards;
      opacity: 0.8;
      z-index: 1;
      pointer-events: none;
      filter: drop-shadow(0 2px 4px rgba(255, 77, 109, 0.3));
    }
    
    @keyframes floatUp {
      to {
        transform: translateY(-110vh) rotate(15deg);
        opacity: 0;
      }
    }
    
    /* Particle burst */
    .particle {
      position: fixed;
      width: 8px;
      height: 8px;
      border-radius: 50%;
      pointer-events: none;
      z-index: 100;
      animation: particleBurst 1s ease-out forwards;
    }
    
    @keyframes particleBurst {
      to {
        transform: translate(var(--tx), var(--ty)) scale(0);
        opacity: 0;
      }
    }
    
    /* Mobile optimization */
    @media (max-width: 480px) {
      h1 {
        font-size: 2rem;
        margin-bottom: 30px;
      }
      button {
        font-size: 1.1rem;
        padding: 15px 25px;
        width: 120px;
      }
      #popup {
        font-size: 1.3rem;
        margin-top: 20px;
      }
      .container {
        padding: 30px 15px;
        border-radius: 20px;
      }
    }
    
    /* Reduced motion support */
    @media (prefers-reduced-motion: reduce) {
      * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
      body::before {
        animation: none;
      }
      h1 {
        animation: none;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1 id="question">Will you be my Valentine? ‚ù§Ô∏è</h1>
    <div class="button-container" id="buttonContainer">
      <button id="yesBtn" aria-label="Yes, I will be your Valentine">Yes üíñ</button>
      <button id="noBtn" aria-label="No, I won't be your Valentine">No üôà</button>
    </div>
    <div id="popup" role="alert" aria-live="polite">
      üíï Yay!!! Get ready!<br>You're being picked up for a romantic weekend! üíï
    </div>
  </div>
  <script>
    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");
    const popup = document.getElementById("popup");
    const question = document.getElementById("question");
    const buttonContainer = document.getElementById("buttonContainer");
    
    let yesScale = 1;
    let heartInterval;
    let isAnswered = false;
    let noBtnClickCount = 0;
    let isDodging = false;
    
    const MAX_SCALE = 3;
    const noBtnTexts = ["No üôà", "Are you sure? ü§î", "Really? ü•∫", "Think again! üí≠", "Please? üôè"];
    
    // Check if device supports hover (desktop vs mobile)
    const supportsHover = window.matchMedia('(hover: hover)').matches;
    
    noBtn.addEventListener("click", handleNo);
    yesBtn.addEventListener("click", handleYes);
    
    // Mouse move handler for dodging effect (desktop only)
    if (supportsHover) {
      document.addEventListener("mousemove", handleMouseMove);
    }
    
    // Keyboard support
    noBtn.addEventListener("keydown", (e) => {
      if (e.key === "Enter" || e.key === " ") {
        e.preventDefault();
        handleNo();
      }
    });
    
    yesBtn.addEventListener("keydown", (e) => {
      if (e.key === "Enter" || e.key === " ") {
        e.preventDefault();
        handleYes();
      }
    });
    
    function handleMouseMove(e) {
      if (isAnswered || !isDodging) return;
      
      const noBtnRect = noBtn.getBoundingClientRect();
      const noBtnCenterX = noBtnRect.left + noBtnRect.width / 2;
      const noBtnCenterY = noBtnRect.top + noBtnRect.height / 2;
      
      const distance = Math.sqrt(
        Math.pow(e.clientX - noBtnCenterX, 2) + 
        Math.pow(e.clientY - noBtnCenterY, 2)
      );
      
      // If mouse is within 100px of the No button, move it away
      if (distance < 100) {
        const angle = Math.atan2(noBtnCenterY - e.clientY, noBtnCenterX - e.clientX);
        const moveDistance = 120;
        
        let newX = noBtnCenterX + Math.cos(angle) * moveDistance;
        let newY = noBtnCenterY + Math.sin(angle) * moveDistance;
        
        // Keep button within viewport
        const maxX = window.innerWidth - noBtnRect.width;
        const maxY = window.innerHeight - noBtnRect.height;
        
        newX = Math.max(0, Math.min(newX - noBtnRect.width / 2, maxX));
        newY = Math.max(0, Math.min(newY - noBtnRect.height / 2, maxY));
        
        noBtn.style.left = newX + 'px';
        noBtn.style.top = newY + 'px';
      }
    }
    
    function handleNo() {
      if (isAnswered) return;
      
      // Shake animation
      noBtn.classList.add('shake');
      setTimeout(() => noBtn.classList.remove('shake'), 500);
      
      // Grow Yes button with spring effect
      if (yesScale < MAX_SCALE) {
        yesScale += 0.2;
        yesBtn.style.transform = `scale(${yesScale}) rotate(${Math.random() * 10 - 5}deg)`;
        setTimeout(() => {
          yesBtn.style.transform = `scale(${yesScale})`;
        }, 200);
      }
      
      // Change No button text
      if (noBtnClickCount < noBtnTexts.length - 1) {
        noBtnClickCount++;
        noBtn.innerHTML = noBtnTexts[noBtnClickCount];
      }
      
      // Enable dodging after 2 clicks (desktop only)
      if (noBtnClickCount >= 2 && supportsHover && !isDodging) {
        isDodging = true;
        noBtn.classList.add('dodging');
        const rect = noBtn.getBoundingClientRect();
        noBtn.style.left = rect.left + 'px';
        noBtn.style.top = rect.top + 'px';
      }
    }
    
    function handleYes() {
      if (isAnswered) return;
      
      isAnswered = true;
      
      // Create particle burst
      createParticleBurst();
      
      // Create confetti
      createConfetti();
      
      // Show popup and hide elements
      setTimeout(() => {
        popup.style.display = "block";
        yesBtn.style.display = "none";
        noBtn.style.display = "none";
        question.textContent = "üíù Perfect! üíù";
      }, 500);
      
      // Stop creating new hearts
      clearInterval(heartInterval);
      
      // Remove existing hearts after a delay
      setTimeout(() => {
        const hearts = document.querySelectorAll('.heart');
        hearts.forEach(heart => heart.remove());
      }, 2000);
    }
    
    function createParticleBurst() {
      const rect = yesBtn.getBoundingClientRect();
      const centerX = rect.left + rect.width / 2;
      const centerY = rect.top + rect.height / 2;
      
      const colors = ['#ff4d6d', '#ff1744', '#ff69b4', '#ffc0cb', '#fff'];
      
      for (let i = 0; i < 30; i++) {
        const particle = document.createElement('div');
        particle.classList.add('particle');
        particle.style.left = centerX + 'px';
        particle.style.top = centerY + 'px';
        particle.style.background = colors[Math.floor(Math.random() * colors.length)];
        
        const angle = (Math.PI * 2 * i) / 30;
        const velocity = 100 + Math.random() * 100;
        
        particle.style.setProperty('--tx', Math.cos(angle) * velocity + 'px');
        particle.style.setProperty('--ty', Math.sin(angle) * velocity + 'px');
        
        document.body.appendChild(particle);
        
        setTimeout(() => particle.remove(), 1000);
      }
    }
    
    function createConfetti() {
      const colors = ['#ff4d6d', '#ff1744', '#ff69b4', '#ffc0cb', '#ffd700', '#fff'];
      const shapes = ['square', 'circle', 'rectangle'];
      
      for (let i = 0; i < 50; i++) {
        setTimeout(() => {
          const confetti = document.createElement('div');
          confetti.classList.add('confetti');
          confetti.style.left = Math.random() * 100 + 'vw';
          confetti.style.top = -10 + 'px';
          confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
          confetti.style.animationDuration = (Math.random() * 3 + 2) + 's';
          confetti.style.animationDelay = Math.random() * 0.5 + 's';
          
          if (Math.random() > 0.5) {
            confetti.style.borderRadius = '50%';
          }
          
          document.body.appendChild(confetti);
          
          setTimeout(() => confetti.remove(), 5000);
        }, i * 30);
      }
    }
    
    // Floating hearts generator
    function createHeart() {
      const heart = document.createElement("div");
      heart.classList.add("heart");
      heart.innerHTML = Math.random() > 0.5 ? "‚ù§Ô∏è" : "üíï";
      heart.style.left = Math.random() * 100 + "vw";
      heart.style.fontSize = (Math.random() * 20 + 15) + "px";
      heart.style.animationDuration = (Math.random() * 3 + 4) + "s";
      heart.style.transform = `rotate(${Math.random() * 30 - 15}deg)`;
      heart.setAttribute("aria-hidden", "true");
      document.body.appendChild(heart);
      
      setTimeout(() => {
        heart.remove();
      }, 7000);
    }
    
    // Start heart animation
    heartInterval = setInterval(createHeart, 300);
    
    // Cleanup: Stop hearts if page is hidden (battery saving)
    document.addEventListener("visibilitychange", () => {
      if (document.hidden) {
        clearInterval(heartInterval);
      } else if (!isAnswered) {
        heartInterval = setInterval(createHeart, 300);
      }
    });
    
    // Prevent context menu on long press (mobile)
    document.addEventListener('contextmenu', (e) => {
      if (e.target.tagName === 'BUTTON') {
        e.preventDefault();
      }
    });
  </script>
</body>
</html>
